#####
# Circle CI
# 
# For running docker images on circle ci, see: https://circleci.com/docs/docker
# For circle.yml explanation, see: https://circleci.com/docs/manually
# Python specific configuration, see: https://circleci.com/docs/language-python
#####


machine:
    services:
        - docker

#Â Generator install, scaffold in a new directory
dependencies:
    pre:
        # Remove services which will clash with Docker containers
        - sudo killall redis-server 
        - sudo killall postgres
        - docker info
        - sudo pip install docker-compose
        - npm install -g npm
        - sudo apt-get install nodejs
        - npm install -g yo
        - npm -g install
        # Install Dependencies also
        - npm -g install yeoman-generator
        - npm -g generator-polymer
        - npm -g install yosay
        - git clone https://github.com/docker-library/official-images.git ~/official-images
        # Install Generator and scaffold out 
        - sudo mkdir /app
        - sudo chown -R ubuntu /app
        - cd /app
        - which yes > /dev/null; if [ $? -eq 0 ]; then yes | yo dockerized-django-polymer; fi
